{"is_source_file": true, "format": "JavaScript", "description": "This file provides helper functions for manipulating localStorage data specific to a notes application, including reading and writing notes, UI preferences, and normalizing note objects. It also includes a utility for generating UUIDs.", "external_files": [], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "Date.now", "crypto.randomUUID"], "published": ["readNotes", "writeNotes", "readUiPrefs", "writeUiPrefs", "normalizeNote", "makeUuid"], "classes": [], "methods": [{"name": "readNotes()", "description": "Reads the notes array from localStorage; returns an empty array if not found or on error, normalizes notes, and filters invalid entries.", "scope": "", "scopeKind": ""}, {"name": "writeNotes(notes)", "description": "Serializes and saves the notes array to localStorage; performs best effort with error handling.", "scope": "", "scopeKind": ""}, {"name": "readUiPrefs(key = UI_PREFS_KEY)", "description": "Retrieves UI preferences from localStorage; returns null on error or if data is invalid.", "scope": "", "scopeKind": ""}, {"name": "writeUiPrefs(key = UI_PREFS_KEY, prefs)", "description": "Saves UI preferences object to localStorage; performs best effort with error handling.", "scope": "", "scopeKind": ""}, {"name": "normalizeNote(input)", "description": "Ensures a note object has a consistent shape with string `id`, default title, content, and timestamp fields.", "scope": "", "scopeKind": ""}, {"name": "makeUuid()", "description": "Generates a UUID string, preferring `crypto.randomUUID()` if available, otherwise falling back to a pseudo-UUID implementation.", "scope": "", "scopeKind": ""}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "Date.now", "crypto.randomUUID"], "search-terms": ["localStorage helpers", "notes array", "storage namespace", "normalize note", "UUID generation", "uiPrefs"], "state": 2, "file_id": 13, "knowledge_revision": 36, "git_revision": "e6fffe6ed8d14329a8b162bf8e110dcc8bee97f8", "revision_history": [{"31": "3c06888ece6961e2015f42ec1ca0840740eac17e"}, {"36": "e6fffe6ed8d14329a8b162bf8e110dcc8bee97f8"}], "ctags": [{"_type": "tag", "name": "NAMESPACE", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^const NAMESPACE = \"notesApp\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "NOTES_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^const NOTES_KEY = `${NAMESPACE}:notes`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "UI_PREFS_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^const UI_PREFS_KEY = `${NAMESPACE}:uiPrefs`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "makeUuid", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^export function makeUuid() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^export function normalizeNote(input) {$/", "language": "JavaScript", "kind": "function", "signature": "(input)"}, {"_type": "tag", "name": "readNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^export function readNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "readUiPrefs", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^export function readUiPrefs(key = UI_PREFS_KEY) {$/", "language": "JavaScript", "kind": "function", "signature": "(key = UI_PREFS_KEY)"}, {"_type": "tag", "name": "writeNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^export function writeNotes(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "writeUiPrefs", "path": "/home/kavia/workspace/code-generation/simple-notes-app-304750-304841/notes_frontend/src/api/storage.js", "pattern": "/^export function writeUiPrefs(key = UI_PREFS_KEY, prefs) {$/", "language": "JavaScript", "kind": "function", "signature": "(key = UI_PREFS_KEY, prefs)"}], "hash": "7d6000b26d38c45b2489a6e627bc4a88", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/api/storage.js"}